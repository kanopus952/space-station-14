using Content.Shared._Sunrise.Tutorial.Prototypes;
using Content.Shared.Cargo.Components;
using Robust.Client.AutoGenerated;
using Robust.Client.UserInterface.Controls;
using Robust.Client.UserInterface.XAML;

namespace Content.Client._Sunrise.Tutorial;

[GenerateTypedNameReferences]
public sealed partial class TutorialCategoryButton : BoxContainer
{
    public TutorialCategoryPrototype Category { get; }
    public event Action<TutorialCategoryButton>? OnSelected;

    public TutorialCategoryButton(TutorialCategoryPrototype category, Action<TutorialCategoryButton>? onSelected)
    {
        RobustXamlLoader.Load(this);
        Category = category;

        CategoryLabel.Text = category.Name;
        CategoryButton.OnPressed += _ => OnSelected?.Invoke(this);
        OnSelected += onSelected;
    }

    public void SetSelected(bool selected)
    {
        CategoryButton.Pressed = selected;
    }
}
